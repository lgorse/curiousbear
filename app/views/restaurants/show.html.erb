<div id="map"></div>

<script>
var map;
var service;
var infowindow;

function initialize() {
  var pyrmont = new google.maps.LatLng(37.775,-122.418333333333);

  map = new google.maps.Map(document.getElementById('map'), {
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      center: pyrmont,
      zoom: 10
    });
var
   request = {
  	location: pyrmont,
  	radius: '1000',
    query: "Best French restaurant",
    types: ['restaurant']
  };

  service = new google.maps.places.PlacesService(map);
  service.textSearch(request, callback);
}

function callback(results, status) {
  if (status == google.maps.places.PlacesServiceStatus.OK) {
    for (var i = 0; i < results.length; i++) {
      var place = results[i];

      var marker = new google.maps.Marker({
      	map: map,
      	position: place.geometry.location,
      	title: place.name
      });
      marker.setMap(map);
    }
  }
}

</script>

begin=
#@detail = get_details(@entry)
<ul>  
  <li><%= address = @detail["result"]["address_components"].first["long_name"] %></li> 
</ul>
end=